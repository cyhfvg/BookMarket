<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <div class="row" v-for="n in rows">
      <div class="col" v-for="book in eachRowBooks(n)">
        <div class="book_item" @click="showBookInfo(book)">
          <img :src="book.pic" height="120px" width="120px" />
        </div>
        <label>{{ book.name }}</label>
      </div>
    </div>
  </body>
</html>
<script>
  me.axiosInstance
    .post("/book/allBooks", {
      page: me.curPage,
      pageSize: 4 * me.cols,
    })
    .then((response) => {
      let result = response.data;
      if (result.meta.success === true) {
        me.searchText = "";
        me.total = result.data.total;
        me.allBooks = result.data.books;

        me.isSearch = false;
        me.showDetail = false;
        if (me.allBooks.length < me.rows * me.cols) {
          me.rows = Math.floor(me.allBooks.length / me.cols);
        }
      }
    });
  me.axiosInstance
    .post("/book/allBooks", {
      page: me.curPage,
      pageSize: 4 * me.cols,
    })
    .then((response) => {
// 省略
      }
    });

</script>
